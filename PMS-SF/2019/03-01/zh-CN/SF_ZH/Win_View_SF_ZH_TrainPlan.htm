<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title></title>
    <script src="/Scripts/boot.js?v=$AppVersion" type="text/javascript"></script>
    <script src="/Scripts/PlatForm/ComTools.js?v=$AppVersion" type="text/javascript"></script>
    <script src="/Scripts/PlatForm/SingleForm.js?v=$AppVersion" type="text/javascript"></script>
    <script src="/Form/Init/$Model.data.FormId/$Model.data.FormState/$Model.data.KeyValue"></script>
    <script type="text/javascript" hasvelocity="true">
        var OpenFormId = "$Model.data.OpenFormId"
        var FormId = "$Model.data.FormId"
        var FormState = "$Model.data.FormState"
        var KeyValue = "$Model.data.KeyValue"
        var SingleParams = ""
    </script>
</head>
<body>
    <div class="row-wrap">
        <div class="row  row-hd row-hd-responsive" style="height: 100%">
            <div class="col-md-12 col-hd-12">
                <!-- BEGIN EXAMPLE TABLE PORTLET-->
                <div class="portlet box blue" style="height: 100%">
                    <div class="portlet-title">
                        <div class="captiontools">
                            <!--<a class="mini-button blue" id="View_SF_TrainPlanAl.AddForm" onclick="PowerForm.OnBtnAddForm(this,OpenFormId)"><i class="fa fa-plus"></i>新增</a>
                            <a class="mini-button blue" id="View_SF_TrainPlanAl.Del" onclick="PowerForm.OnBtnDel(this,SingleParams)"><i class="fa fa-trash-o"></i>删除</a>
                            <a class="mini-button blue" id="View_SF_TrainPlanAl.EditForm" onclick="PowerForm.OnBtnEditForm(this,OpenFormId)"><i class="fa fa-pencil"></i>编辑</a>-->
                            <!--<a class="mini-button blue" id="View_SF_TrainPlanAl.ViewForm" onclick="PowerForm.OnBtnViewForm(this,OpenFormId)"><i class="fa fa-eye"></i>查看</a>-->
                            <a class="mini-button blue" id="View_SF_TrainPlanAl.Search" onclick="PowerForm.OnBtnSearch(this)"><i class="fa fa-search"></i>查询</a>
                            <a class="mini-button blue" id="View_SF_TrainPlanAl.Refresh" onclick="PowerForm.OnBtnRefresh(this)"><i class="fa fa-refresh"></i>刷新</a>
                            <div id="View_SF_TrainPlanAl-Export" title="培训计划统计" class="btn-group"></div>
                        </div>
                        <div class="tools">
                            <input id="View_SF_TrainPlanAl-search-fields" class="mini-combobox" onvaluechanged="PowerForm.FieldChanged(this)" style="width: 150px;" />
                            <span id="View_SF_TrainPlanAl-search">
                                <input id="View_SF_TrainPlanAl-search-value" class="mini-textbox" style="width: 150px;" />
                            </span>
                            <a class="mini-button blue" id="View_SF_TrainPlanAl-btn-search" onclick="PowerForm.OnPageChanged(this)"><i class="fa fa-search"></i> 搜索</a><!--查询-->
                        </div>

                    </div>
                    <div class="portlet-body" style="height: 100%">
                        <div id="View_SF_TrainPlanAl" class="mini-datagrid" style="width: 100%; height: 100%;" visible="true" width="917" height="601" allowalternating="false" pagesize="20" summarycolumns="" fitcolumns="" idfield="ListId" allowCellWrap="true">
                            <div property="columns">
                                <!--<div field="Type" headeralign="center" header="状态" type="comboboxcolumn">
                                    状态
                                    <input property="editor" name="Type" class="mini-combobox" />
                                </div>-->
                                <div field="Code" headeralign="center" header="编号">
                                    编号
                                    <input property="editor" name="Code" class="mini-textbox" readonly />
                                </div>
                                <div field="Title" headeralign="center" header="标题">
                                    标题
                                    <input property="editor" name="Title" class="mini-textbox" readonly />
                                </div>
                                <div field="RegDate" name="RegDate" headeralign="center" header="填报日期" dateformat="yyyy-MM-dd">
                                    填报时间
                                </div>
                                <div field="StartDate" name="StartDate" headeralign="center" header="开始时间" dateformat="yyyy-MM-dd">
                                    开始时间
                                    <input property="editor" class="mini-datepicker" style="width: 100%;" />
                                </div>
                                <div field="EndDate" headeralign="center" header="结束时间" dateformat="yyyy-MM-dd">
                                    结束时间
                                    <input property="editor" name="EndDate" class="mini-datepicker" />
                                </div>
                                <div  type="comboboxcolumn" field="HiddenTypeType" name="HiddenTypeType" headeralign="center" header="岗位类型">
                                    岗位类型
                                    <input property="editor" class="mini-combobox" style="width: 100%;" />
                                </div>
                                <div type="comboboxcolumn" field="TrainType" name="TrainType" headeralign="center" header="培训类别">
                                    培训类别
                                    <input property="editor" class="mini-combobox" style="width: 100%;" />
                                </div>
                                <div type="comboboxcolumn" field="TrainMode" name="TrainMode" headeralign="center" header="培训方式">
                                    培训方式
                                    <input property="editor" class="mini-combobox" style="width: 100%;" />
                                </div>
                                <div field="Teacher" headeralign="center" header="培训机构/讲师">
                                    培训机构/讲师
                                    <input property="editor" name="Teacher" class="mini-textbox" readonly />
                                </div>
                                <div field="TrainHumans" headeralign="center" header="培训人员">
                                    培训人员
                                    <input property="editor" name="TrainHumans" class="mini-textarea" readonly />
                                </div>
                                <div field="Number" headeralign="center" header="培训人数">
                                    培训人数
                                    <input property="editor" name="Number" class="mini-textbox" readonly />
                                </div>
                                <div field="Address" headeralign="center" header="培训地点">
                                    培训地点
                                    <input property="editor" name="Address" class="mini-textbox" readonly />
                                </div>
                                <div field="Money" headeralign="center" header="费用预算">
                                    费用预算
                                    <input property="editor" name="Money" class="mini-textbox" readonly />
                                </div>
                                <div field="PartyB" headeralign="center" header="主办单位">
                                    主办单位
                                    <input property="editor" name="PartyB" class="mini-textbox" readonly />
                                </div>
                                <div field="Remark" headeralign="center" header="培训内容">
                                    培训内容
                                    <input property="editor" name="Remark" class="mini-textarea" readonly />
                                </div>
                              
                            </div>
                        </div>
                    </div>
                </div>
                <!-- END EXAMPLE TABLE PORTLET-->
            </div>
        </div>
    </div>
    <div id="win_search" class="mini-window" title="$Helper.GetResource('g_search_panel')" style="width: 375px; height: 290px;" showmodal="false" allowresize="true" allowdrag="true" onbuttonclick="onbuttonclick">
        <div style="height: 195px; overflow:auto;">
            <table id="ConditionTable" style="width: 342px; margin-top: 5px; margin-left:auto; margin-right:auto;"></table>
        </div>
        <table style="width: 363px; height: 30px; margin-top:8px;">
            <tr>
                <td align="center" style="text-align:right;">
                    <a class="mini-button blue" id="BtnSearch" onclick="PowerForm.OnPageChanged(this)"><i class="fa fa-search"></i>$Helper.GetResource('g_search')</a>
                    <a class="mini-button blue" id="BtnSearch_Clear" onclick="PowerForm.OnClearSeach(this)"><i class="fa fa-repeat"></i>$Helper.GetResource('g_clear')</a>
                    <a class="mini-button blue" id="BtnSearch_Close" name="close" onclick="onbuttonclick(this)"><i class="fa fa-close"></i>$Helper.GetResource('g_off')</a>
                </td>
            </tr>
        </table>
    </div>

    <script type="text/javascript">
        var PowerForm = new SingleForm();
        $(function () {
            PowerForm.Init();
            //mini.get("View_SF_TrainPlanAl").load();
        });
        mini.parse();
        function onbuttonclick(e) {
            if (e.name == "close") {
                var win = mini.get("win_search");
                win.hide();
            }
        }
        //function OnBeforeLoad(e) {
        //    var date = e.date;
        //    for (var i = 0; i < date.length; i++) {
        //        var Month = '';
        //        var Id = '';
        //        var Amount = '';
        //        var RunStation = '';
        //        //计算每个装置的小计值
        //        var Cost1 = 0;
        //        var Cost2 = 0;
        //        var Cost3 = 0;
        //        var Cost4 = 0;
        //        var Cost5 = 0;
        //        var Cost6 = 0;

        //        var c = date[j];
        //        //维修吨水成本
        //        Cost1 = parseFloat(c.RepairPrice) / parseFloat(c.Amount);
        //        //药剂吨水成本
        //        Cost2 = parseFloat(c.PharmacyPrice) / parseFloat(c.Amount);
        //        //能源费吨水成本
        //        Cost3 = parseFloat(c.ElectricityPrice) / parseFloat(c.Amount);
        //        //其他吨水成本
        //        Cost4 = parseFloat(c.OtherPrice) / parseFloat(c.Amount);
        //        //人工吨水成本
        //        Cost5 = parseFloat(c.LaborPrice) / parseFloat(c.Amount);
        //        //总成本
        //        Cost6 = parseFloat(c.AllCost) / parseFloat(c.Amount);
        //        Month = c.Month;
        //        Id = c.Id;
        //        Amount=c.Amount;
        //        var index = 0;//插入位置
        //        var insert = true;
        //        for (var j = 0; j < data.length; j++) {
        //            var d = data[j];//源数据是排序好的
        //            if (insert) {
        //                break;
        //                index = j;
        //            }
        //        }
        //        var nd = {};
        //        nd.Id = Id;
        //        nd.ListId = CreateGUID();
        //        nd.RunStation = c.RunStation;
        //        nd.Type = "吨水成本";
        //        nd.RepairPrice = Cost1;
        //        nd.PharmacyPrice = Cost2;
        //        nd.ElectricityPrice = Cost3;
        //        nd.OtherPrice = Cost4;
        //        nd.LaborPrice = Cost5;
        //        nd.AllCost = Cost6;
        //        nd.Amount = Amount;
        //        nd.WaterPrice = 0;
        //        nd.Month = Month;
        //        data.splice(j, 0, nd);
        //    }
        //    mini.get("View_SF_TrainPlanAl").mergeColumns(["RunStation"]);
        //}

    </script>
</body>
</html>
