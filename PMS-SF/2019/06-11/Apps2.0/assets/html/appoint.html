<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0,user-scalable=no,maximum-scale=1.0">
    <title> 3-2-1指派给 </title>
    <link href="../global/plugins/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css" />
    <link href="../global/plugins/simple-line-icons/simple-line-icons.min.css" rel="stylesheet" type="text/css" />
    <link href="../global/plugins/icon-font-alibaba/iconfont.css" rel="stylesheet" type="text/css" />
    <link href="../global/plugins/bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="../global/css/common.css" type="text/css">
</head>
<body>


    <section class="task-assigned-person">
        <div class="container">
            <div class="row">
                <div class="task-assigned task-department-member">
                    <p class="task-assigned-open-btn" data-show="true">
                        <i class="icon iconfont icon-bumen font-color-blue">  </i>
                        <span> 部门成员 </span>
                        <i class="icon iconfont icon-moreunfold floatRight">  </i>
                    </p>

                    <ul id="departmentLists" class="task-assigned-content task-department-member-lists active">

                    </ul>
                </div>

                <div class="task-assigned task-individual-members">
                    <p class="task-assigned-open-btn"  data-show="false">
                        <i class="icon iconfont icon-wode font-color-red">  </i>
                        <span> 个人成员 </span>
                        <i class="icon iconfont icon-more floatRight">  </i>
                    </p>

                    <ul class="task-assigned-content task-individual-member-lists">

                    </ul>
                </div>
            </div>
        </div>
    </section>




    <script src="../global/plugins/jquery.min.js" type="text/javascript"></script>
    <script src="../global/plugins/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
    <script src="../global/plugins/slider-pro-master/js/jquery.sliderPro.min.js" type="text/javascript"></script>
    <script src="../global/js/common.js" type="text/javascript"></script>

    <script type="text/javascript">
        $(function () {

            var appoint = {
                init: function () {
                    this.events();
                },
                makeDepartmentTemp: function ( data,Id ) {
                    if( data.length > 0 ){
                        var i = 0,list,html = '';
                        for( ;i < data.length;i++ ){
                            list = data[i];
                            html += '<li data-id="'+ list.Id +'"  data-name = "'+ list.Name +'" >' +
                                        '<p class="floatRight">' +
                                            '<span class="task-department-check floatLeft" >' +
                                                '<i class="icon iconfont checkI">  </i>' +
                                            '</span>' +
                                            '<span class="task-department-name"> '+ list.Name +' </span>' +
                                            '<i class="icon iconfont icon-more floatRight">  </i>' +
                                        '</p>' +
                                    '</li>';
                        }
                        $( "#" + Id).html( html );
                    }
                },
                events: function () {
                    var makeDepartmentTemp = this.makeDepartmentTemp;
                    var getData = [
                        {"Id":"1201032048353131","Name":"甲部门"},
                        {"Id":"1201032048353132","Name":"乙部门"},
                        {"Id":"1201032048353133","Name":"丙部门"}
                    ];
                    makeDepartmentTemp( getData,"departmentLists" );
                    //添加选中
                    $(".task-department-check").on("click", function () {
                        var line = $(this).closest("li");
                        line.toggleClass("checkTrue");

                        if( line.hasClass("checkTrue") ){
                            line.find(".checkI").addClass("icon-tongyi");
                        }else{
                            line.find(".checkI").removeClass("icon-tongyi");
                        }
                    });

                }
            };

            appoint.init();
        });
    </script>

</body>
</html>