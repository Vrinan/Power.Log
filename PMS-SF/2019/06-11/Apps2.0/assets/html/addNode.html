<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0,user-scalable=no,maximum-scale=1.0">
    <title> 3--2--3新增收款节点 </title>
    <link href="../global/plugins/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css" />
    <link href="../global/plugins/simple-line-icons/simple-line-icons.min.css" rel="stylesheet" type="text/css" />
    <link href="../global/plugins/icon-font-alibaba/iconfont.css" rel="stylesheet" type="text/css" />
    <link href="../global/plugins/bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="../global/css/common.css" type="text/css">
</head>
<body>
    <section class="contract-body-content">
        <div class="container">
            <div class="tab-content">
                <div role="tabpanel" class="tab-pane active" >
                    <ul class="contract-unit-list">
                        <li>
                            <p class="unit-list" data-edit = "edit-close">
                                <span class="contract-name">节点名称</span>
                                <span class="contract-nameValue" id="nodeName" data-name = "节点名称" data-set = "false"></span>
                            </p>
                            <div class="contract-edit-box">
                                <input type="text">
                            </div>
                        </li>
                        <li>
                            <p class="unit-list" data-edit = "edit-close">
                                <span class="contract-name">收款类型</span>
                                <span class="contract-nameValue" id="paymentType" data-name="收款类型" data-set = "false">
                                    <span> 请选择 </span>
                                    <i class="icon iconfont icon-more"> </i>
                                </span>
                            </p>
                            <ul class="contract-edit-box payment-select-box">
                                <li class="payment-type"> 付款类型 1 </li>
                                <li class="payment-type"> 付款类型 2 </li>
                                <li class="payment-type"> 付款类型 3 </li>
                                <li class="payment-type"> 付款类型 4 </li>
                            </ul>
                        </li>
                        <li>
                            <p class="unit-list" data-edit = "edit-close">
                                <span class="contract-name">收款金额</span>
                                <span class="contract-nameValue" id="paymentAmount" data-name="收款金额" data-set = "false"></span>
                            </p>
                            <div class="contract-edit-box">
                                <input type="text">
                            </div>
                        </li>
                        <li>
                            <p class="unit-list" data-edit = "edit-close">
                                <span class="contract-name">描述</span>
                                <span class="contract-nameValue" id="nodeDescribe" data-name="描述" data-set = "false"></span>
                            </p>
                            <div class="contract-edit-box">
                                <textarea name="" id="" cols="30" rows="4"></textarea>
                            </div>
                        </li>
                        <li>
                            <p class="unit-list" data-edit = "edit-close">
                                <span class="contract-name">备注</span>
                                <span class="contract-nameValue" id="nodeNote" data-name = "备注" data-set = "false"></span>
                            </p>
                            <div class="contract-edit-box" style="text-align: ">
                                <textarea name="" id="" cols="30" rows="4"></textarea>
                            </div>
                        </li>

                    </ul>

                </div>
            </div>
        </div>
    </section>




    <script src="../global/plugins/jquery.min.js" type="text/javascript"></script>
    <script src="../global/plugins/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
    <script src="../global/plugins/slider-pro-master/js/jquery.sliderPro.min.js" type="text/javascript"></script>
    <script src="../global/js/common.js" type="text/javascript"></script>

    <script>
        $(function () {

            var addNode = {
                init: function () {
                    this.events();
                },
                
                events: function () {
                    //声明一个临时对象，用于存储设置的数据
                    var saveData = {  };

                    $(".contract-edit-box > input,.contract-edit-box > textarea").on("blur", function () {
                        var value = $(this).val(),key = $(this).parent().prev().find(".contract-nameValue").attr("id");
                        if( value != "" ){
                            $(this).val("").parent().prev().find(".contract-nameValue").text( value).attr("data-set","true");
                            saveData[ key ] = value;
                        }else{
                            $(this).parent().prev().find(".contract-nameValue").attr("data-set","false");
                        }
                    });

                    $(".payment-select-box .payment-type").on("click", function () {
                        var value = $(this).text(), $this = $(this),
                            key = $(this).parent().prev().find(".contract-nameValue").attr("id");

                        if( value != "" ){
                            $this.addClass("active").siblings().removeClass("active")
                                    .end().parent().prev().find(".contract-nameValue").text( value )
                                    .attr("data-set","true");
                            saveData[ key ] = value;
                            setTimeout(function () {
                                $this.removeClass( "active" );
                            },1000);
                        }else{
                            $this.addClass("active").siblings().removeClass("active")
                                    .end().parent().prev().find(".contract-nameValue").text( value )
                                    .attr("data-set","false");
                        }

                    });







                }
            };

            addNode.init();
        });

    </script>
</body>
</html>