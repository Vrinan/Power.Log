{"version":3,"sources":["webpack:///./src/components/WorkFlow/History.vue","webpack:///./src/components/WorkFlow/History.vue?281f","webpack:///./src/components/WorkFlow/History.vue?f0ba"],"names":["History","mixins","commonComponentMixin","data","historyList","afterSaveMsg","mx_isLoading","mx_message","mx_alertShow","mx_alertTitle","mx_toastShow","mx_deleyTime","mounted","this","_FormInit","methods","_this","getQuery","params","FormId","query","KeyValue","FormState","MinXinHttpFetch","FormInit","response","success","workflowdata","JSON","parse","CanFlowOperate","CanFlowList","ShowHistoryMonitor","List","concat","openMonitor","WorkInfoID","flowOperate","$router","push","path","formatStatus","status","result","formatDate","date","history","current","assign_default","goBack","back","WorkFlow_History","render","_vm","_h","$createElement","_c","_self","attrs","name","staticClass","_v","_l","item","index","key","on","click","$event","_s","Title","RecordStatus","FinishUserName","CreateDate","FinishDate","model","value","callback","$$v","expression","type","time","title","content","on-hide","MixinAlertHideEvent","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"qKA2DAA,GACEC,QAASC,KACTC,KAFa,WAGX,OACEC,eACAC,aAAc,GACdC,cAAc,EACdC,WAAY,GACZC,cAAc,EACdC,cAAe,KACfC,cAAc,EACdC,aAAc,MAGlBC,QAda,WAeXC,KAAKC,aAEPC,SAEED,UAFO,WAEM,IAAAE,EAAAH,KACXA,KAAKI,WAEL,IAAIC,GACFC,OAAQN,KAAKO,MAAMD,OACnBE,SAAUR,KAAKO,MAAMC,SACrBC,UAAWT,KAAKO,MAAME,WAGxBT,KAAKU,gBAAgBC,YAASN,GAAS,SAACO,GACtC,GAAIA,EAASC,QAAS,CACpB,IAAIC,EAAeF,EAAStB,KAAKwB,aACZ,KAAjBA,IACFA,EAAeC,KAAKC,MAAMF,IAG5B,IAAIG,EAAiBH,EAAaG,eAClC,GAAIA,EAAgB,CAClB,IAAIC,EAAcD,EAAeC,YAEjC,GAAIA,EAAa,CACf,IAAIC,EAAqBD,EAAYC,mBAEjCA,EAAmBC,OACrBjB,EAAKZ,YAAc4B,EAAmBC,KAAKC,gBAQvDC,YAlCO,SAkCMC,GACX,IAAIhB,GACFiB,YAAa,cACbD,WAAYA,GAGdvB,KAAKyB,QAAQC,MACXC,KAAM,oBACNpB,MAAOA,KAIXqB,aA9CO,SA8COC,GACZ,IAAIC,EAAS,GAEb,OAAQD,GACN,IAAK,OACHC,EAAS,MACT,MACF,IAAK,SACHA,EAAS,KACT,MACF,IAAK,QACHA,EAAS,MACT,MACF,QACEA,EAAS,MAIb,OAAOA,GAGTC,WAnEO,SAmEKC,GACV,OAAOD,YAAWC,EAAM,wBAG1B5B,SAvEO,WAwEL,IAAIG,EAAQP,KAAKyB,QAAQQ,QAAQC,QAAQ3B,MACrCA,IACFP,KAAKO,MAAQ4B,OAAkB5B,KAInC6B,OA9EO,WA+ELpC,KAAKyB,QAAQY,UCxJJC,GADEC,OAFjB,WAA0B,IAAAC,EAAAxC,KAAayC,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,cAAwBE,OAAOC,KAAA,WAAgBH,EAAA,OAAYI,YAAA,yBAAmCJ,EAAA,OAAYI,YAAA,sBAAgCJ,EAAA,MAAWI,YAAA,4BAAsCP,EAAAQ,GAAA,WAAAR,EAAAQ,GAAA,KAAAL,EAAA,MAAyCI,YAAA,SAAoBP,EAAAS,GAAAT,EAAA,qBAAAU,EAAAC,GAA+C,OAAAR,EAAA,MAAgBS,IAAAD,EAAAJ,YAAA,OAAAM,IAAiCC,MAAA,SAAAC,GAAyBf,EAAAlB,YAAA4B,EAAA3B,gBAAmCoB,EAAA,OAAYI,YAAA,oBAA8BJ,EAAA,MAAWI,YAAA,UAAoBJ,EAAA,QAAaI,YAAA,4BAAsCP,EAAAQ,GAAA,WAAAR,EAAAQ,GAAA,KAAAL,EAAA,QAA2CI,YAAA,SAAmBP,EAAAQ,GAAAR,EAAAgB,GAAAN,EAAAO,YAAAjB,EAAAQ,GAAA,KAAAL,EAAA,OAAuDI,YAAA,gBAA0BJ,EAAA,OAAYI,YAAA,SAAmBJ,EAAA,QAAaI,YAAA,2BAAqCP,EAAAQ,GAAA,SAAAR,EAAAQ,GAAA,KAAAL,EAAA,QAAyCI,YAAA,SAAmBP,EAAAQ,GAAAR,EAAAgB,GAAAhB,EAAAZ,aAAAsB,EAAAQ,oBAAAlB,EAAAQ,GAAA,KAAAL,EAAA,OAAgFI,YAAA,SAAmBJ,EAAA,QAAaI,YAAA,2BAAqCP,EAAAQ,GAAA,UAAAR,EAAAQ,GAAA,KAAAL,EAAA,QAA0CI,YAAA,SAAmBP,EAAAQ,GAAAR,EAAAgB,GAAAN,EAAAS,uBAAAnB,EAAAQ,GAAA,KAAAL,EAAA,OAAkEI,YAAA,gBAA0BJ,EAAA,OAAYI,YAAA,cAAwBJ,EAAA,QAAaI,YAAA,2BAAqCP,EAAAQ,GAAA,WAAAR,EAAAQ,GAAA,KAAAL,EAAA,QAA2CI,YAAA,SAAmBP,EAAAQ,GAAAR,EAAAgB,GAAAhB,EAAAT,WAAAmB,EAAAU,oBAAApB,EAAAQ,GAAA,KAAAL,EAAA,OAA8EI,YAAA,gBAA0BJ,EAAA,OAAYI,YAAA,cAAwBJ,EAAA,QAAaI,YAAA,2BAAqCP,EAAAQ,GAAA,WAAAR,EAAAQ,GAAA,KAAAL,EAAA,QAA2CI,YAAA,SAAmBP,EAAAQ,GAAAR,EAAAgB,GAAAhB,EAAAT,WAAAmB,EAAAW,6BAA4DrB,EAAAQ,GAAA,KAAAL,EAAA,OAA2BI,YAAA,wBAAkCJ,EAAA,OAAYI,YAAA,OAAAM,IAAuBC,MAAAd,EAAAJ,UAAoBI,EAAAQ,GAAA,4BAAAR,EAAAQ,GAAA,KAAAL,EAAA,WAA+DmB,OAAOC,MAAAvB,EAAA,aAAAwB,SAAA,SAAAC,GAAkDzB,EAAA/C,aAAAwE,GAAqBC,WAAA,kBAA4B1B,EAAAQ,GAAA,KAAAL,EAAA,SAA0BE,OAAOsB,KAAA,OAAAC,KAAA5B,EAAA1C,cAAsCgE,OAAQC,MAAAvB,EAAA,aAAAwB,SAAA,SAAAC,GAAkDzB,EAAA3C,aAAAoE,GAAqBC,WAAA,kBAA4B1B,EAAAQ,GAAAR,EAAAgB,GAAAhB,EAAAhD,iBAAAgD,EAAAQ,GAAA,KAAAL,EAAA,SAA6DE,OAAOwB,MAAA7B,EAAA5C,cAAA0E,QAAA9B,EAAA9C,YAAmD2D,IAAKkB,UAAA/B,EAAAgC,qBAAkCV,OAAQC,MAAAvB,EAAA,aAAAwB,SAAA,SAAAC,GAAkDzB,EAAA7C,aAAAsE,GAAqBC,WAAA,mBAA4B,MAEt0EO,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACEzF,EACAmD,GATF,EAVA,SAAAuC,GACEF,EAAQ,SAaV,KAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"weixin3.0/static/js/19.31c0e6b9f312e961406a.js","sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { commonComponentMixin } from 'common/js/mixin.js'\nimport { FormInit } from 'api/index.js'\nimport { formatDate } from 'common/js/Util.js'\n\nexport default {\n  mixins: [commonComponentMixin],\n  data () {\n    return {\n      historyList: [],\n      afterSaveMsg: '',\n      mx_isLoading: false,\n      mx_message: '',\n      mx_alertShow: false,\n      mx_alertTitle: '提示',\n      mx_toastShow: false,\n      mx_deleyTime: 1000\n    }\n  },\n  mounted () {\n    this._FormInit()\n  },\n  methods: {\n    // 获取流程数据\n    _FormInit () {\n      this.getQuery()\n\n      let params = {\n        FormId: this.query.FormId,\n        KeyValue: this.query.KeyValue,\n        FormState: this.query.FormState\n      }\n\n      this.MinXinHttpFetch(FormInit(params), (response) => {\n        if (response.success) {\n          let workflowdata = response.data.workflowdata\n          if (workflowdata !== '') {\n            workflowdata = JSON.parse(workflowdata)\n          }\n\n          let CanFlowOperate = workflowdata.CanFlowOperate\n          if (CanFlowOperate) {\n            let CanFlowList = CanFlowOperate.CanFlowList\n\n            if (CanFlowList) {\n              let ShowHistoryMonitor = CanFlowList.ShowHistoryMonitor\n\n              if (ShowHistoryMonitor.List) {\n                this.historyList = ShowHistoryMonitor.List.concat()\n              }\n            }\n          }\n        }\n      })\n    },\n    // 查看监控\n    openMonitor (WorkInfoID) {\n      let query = {\n        flowOperate: 'ShowMonitor',\n        WorkInfoID: WorkInfoID\n      }\n\n      this.$router.push({\n        path: '/forkflow/monitor',\n        query: query\n      })\n    },\n    // 转换状态\n    formatStatus (status) {\n      let result = ''\n\n      switch (status) {\n        case 'Stop':\n          result = '已终止'\n          break\n        case 'Finish':\n          result = '办结'\n          break\n        case 'Scrap':\n          result = '已废弃'\n          break\n        default:\n          result = '流转中'\n          break\n      }\n\n      return result\n    },\n    // 日期格式化\n    formatDate (date) {\n      return formatDate(date, 'yyyy-MM-dd HH:mm:ss')\n    },\n    // 获取路由中的参数\n    getQuery () {\n      let query = this.$router.history.current.query\n      if (query) {\n        this.query = Object.assign({}, query)\n      }\n    },\n    // 返回表单\n    goBack () {\n      this.$router.back()\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/WorkFlow/History.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"slide\"}},[_c('div',{staticClass:\"flow-history-content\"},[_c('div',{staticClass:\"flow-history-main\"},[_c('h1',{staticClass:\"title font-color-active\"},[_vm._v(\"监控历史:\")]),_vm._v(\" \"),_c('ul',{staticClass:\"lists\"},_vm._l((_vm.historyList),function(item,index){return _c('li',{key:index,staticClass:\"list\",on:{\"click\":function($event){_vm.openMonitor(item.WorkInfoID)}}},[_c('div',{staticClass:\"list-unit-inner\"},[_c('h1',{staticClass:\"title\"},[_c('span',{staticClass:\"name font-color-active \"},[_vm._v(\"流程名称:\")]),_vm._v(\" \"),_c('span',{staticClass:\"text\"},[_vm._v(_vm._s(item.Title))])]),_vm._v(\" \"),_c('div',{staticClass:\"sub-message\"},[_c('div',{staticClass:\"item\"},[_c('span',{staticClass:\"name font-color-active\"},[_vm._v(\"状态:\")]),_vm._v(\" \"),_c('span',{staticClass:\"text\"},[_vm._v(_vm._s(_vm.formatStatus(item.RecordStatus)))])]),_vm._v(\" \"),_c('div',{staticClass:\"item\"},[_c('span',{staticClass:\"name font-color-active\"},[_vm._v(\"终止人:\")]),_vm._v(\" \"),_c('span',{staticClass:\"text\"},[_vm._v(_vm._s(item.FinishUserName))])])]),_vm._v(\" \"),_c('div',{staticClass:\"sub-message\"},[_c('div',{staticClass:\"item time\"},[_c('span',{staticClass:\"name font-color-active\"},[_vm._v(\"创建时间:\")]),_vm._v(\" \"),_c('span',{staticClass:\"text\"},[_vm._v(_vm._s(_vm.formatDate(item.CreateDate)))])])]),_vm._v(\" \"),_c('div',{staticClass:\"sub-message\"},[_c('div',{staticClass:\"item time\"},[_c('span',{staticClass:\"name font-color-active\"},[_vm._v(\"完成时间:\")]),_vm._v(\" \"),_c('span',{staticClass:\"text\"},[_vm._v(_vm._s(_vm.formatDate(item.FinishDate)))])])])])])}))]),_vm._v(\" \"),_c('div',{staticClass:\"flow-history-footer\"},[_c('div',{staticClass:\"item\",on:{\"click\":_vm.goBack}},[_vm._v(\"\\n        返回\\n      \")])]),_vm._v(\" \"),_c('loading',{model:{value:(_vm.mx_isLoading),callback:function ($$v) {_vm.mx_isLoading=$$v},expression:\"mx_isLoading\"}}),_vm._v(\" \"),_c('toast',{attrs:{\"type\":\"text\",\"time\":_vm.mx_deleyTime},model:{value:(_vm.mx_toastShow),callback:function ($$v) {_vm.mx_toastShow=$$v},expression:\"mx_toastShow\"}},[_vm._v(_vm._s(_vm.afterSaveMsg))]),_vm._v(\" \"),_c('alert',{attrs:{\"title\":_vm.mx_alertTitle,\"content\":_vm.mx_message},on:{\"on-hide\":_vm.MixinAlertHideEvent},model:{value:(_vm.mx_alertShow),callback:function ($$v) {_vm.mx_alertShow=$$v},expression:\"mx_alertShow\"}})],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-586fa1a2\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vux-loader@1.2.9@vux-loader/src/before-template-compiler-loader.js!./node_modules/_vux-loader@1.2.9@vux-loader/src/template-loader.js!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/WorkFlow/History.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-586fa1a2\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/after-less-loader.js!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/style-loader.js!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./History.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader?{\\\"plugins\\\":[[\\\"babel-plugin-transform-modules\\\",{\\\"cube-ui\\\":{\\\"transform\\\":\\\"cube-ui/src/modules/${member}\\\",\\\"kebabCase\\\":true}}]]}!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./History.vue\"\nimport __vue_script__ from \"!!babel-loader?{\\\"plugins\\\":[[\\\"babel-plugin-transform-modules\\\",{\\\"cube-ui\\\":{\\\"transform\\\":\\\"cube-ui/src/modules/${member}\\\",\\\"kebabCase\\\":true}}]]}!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./History.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-586fa1a2\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/before-template-compiler-loader.js!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/template-loader.js!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./History.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/WorkFlow/History.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}