webpackJsonp([19],{"D/8Z":function(t,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=a("aA9S"),i=a.n(e),o=a("F4+m"),n=a("gyMJ"),r=a("Mlu6"),c={mixins:[o.a],data:function(){return{historyList:[],afterSaveMsg:"",mx_isLoading:!1,mx_message:"",mx_alertShow:!1,mx_alertTitle:"提示",mx_toastShow:!1,mx_deleyTime:1e3}},mounted:function(){this._FormInit()},methods:{_FormInit:function(){var t=this;this.getQuery();var s={FormId:this.query.FormId,KeyValue:this.query.KeyValue,FormState:this.query.FormState};this.MinXinHttpFetch(Object(n.h)(s),function(s){if(s.success){var a=s.data.workflowdata;""!==a&&(a=JSON.parse(a));var e=a.CanFlowOperate;if(e){var i=e.CanFlowList;if(i){var o=i.ShowHistoryMonitor;o.List&&(t.historyList=o.List.concat())}}}})},openMonitor:function(t){var s={flowOperate:"ShowMonitor",WorkInfoID:t};this.$router.push({path:"/forkflow/monitor",query:s})},formatStatus:function(t){var s="";switch(t){case"Stop":s="已终止";break;case"Finish":s="办结";break;case"Scrap":s="已废弃";break;default:s="流转中"}return s},formatDate:function(t){return Object(r.f)(t,"yyyy-MM-dd HH:mm:ss")},getQuery:function(){var t=this.$router.history.current.query;t&&(this.query=i()({},t))},goBack:function(){this.$router.back()}}},l={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("transition",{attrs:{name:"slide"}},[a("div",{staticClass:"flow-history-content"},[a("div",{staticClass:"flow-history-main"},[a("h1",{staticClass:"title font-color-active"},[t._v("监控历史:")]),t._v(" "),a("ul",{staticClass:"lists"},t._l(t.historyList,function(s,e){return a("li",{key:e,staticClass:"list",on:{click:function(a){t.openMonitor(s.WorkInfoID)}}},[a("div",{staticClass:"list-unit-inner"},[a("h1",{staticClass:"title"},[a("span",{staticClass:"name font-color-active "},[t._v("流程名称:")]),t._v(" "),a("span",{staticClass:"text"},[t._v(t._s(s.Title))])]),t._v(" "),a("div",{staticClass:"sub-message"},[a("div",{staticClass:"item"},[a("span",{staticClass:"name font-color-active"},[t._v("状态:")]),t._v(" "),a("span",{staticClass:"text"},[t._v(t._s(t.formatStatus(s.RecordStatus)))])]),t._v(" "),a("div",{staticClass:"item"},[a("span",{staticClass:"name font-color-active"},[t._v("终止人:")]),t._v(" "),a("span",{staticClass:"text"},[t._v(t._s(s.FinishUserName))])])]),t._v(" "),a("div",{staticClass:"sub-message"},[a("div",{staticClass:"item time"},[a("span",{staticClass:"name font-color-active"},[t._v("创建时间:")]),t._v(" "),a("span",{staticClass:"text"},[t._v(t._s(t.formatDate(s.CreateDate)))])])]),t._v(" "),a("div",{staticClass:"sub-message"},[a("div",{staticClass:"item time"},[a("span",{staticClass:"name font-color-active"},[t._v("完成时间:")]),t._v(" "),a("span",{staticClass:"text"},[t._v(t._s(t.formatDate(s.FinishDate)))])])])])])}))]),t._v(" "),a("div",{staticClass:"flow-history-footer"},[a("div",{staticClass:"item",on:{click:t.goBack}},[t._v("\n        返回\n      ")])]),t._v(" "),a("loading",{model:{value:t.mx_isLoading,callback:function(s){t.mx_isLoading=s},expression:"mx_isLoading"}}),t._v(" "),a("toast",{attrs:{type:"text",time:t.mx_deleyTime},model:{value:t.mx_toastShow,callback:function(s){t.mx_toastShow=s},expression:"mx_toastShow"}},[t._v(t._s(t.afterSaveMsg))]),t._v(" "),a("alert",{attrs:{title:t.mx_alertTitle,content:t.mx_message},on:{"on-hide":t.MixinAlertHideEvent},model:{value:t.mx_alertShow,callback:function(s){t.mx_alertShow=s},expression:"mx_alertShow"}})],1)])},staticRenderFns:[]};var v=a("C7Lr")(c,l,!1,function(t){a("R1gd")},null,null);s.default=v.exports},R1gd:function(t,s){}});
//# sourceMappingURL=19.31c0e6b9f312e961406a.js.map